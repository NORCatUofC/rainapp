{% extends 'layout.html' %}
{% load staticfiles %}

{% block content %}
<div id="map" class="d3-map viz-splash"></div>
<a role="button" data-toggle="collapse" href=".collapse-legend" aria-expanded="false" aria-controls="collapse-legend">
  <svg width="32" height="32" id="info" class="viz-splash">
    <circle cx="16" cy="16" r="15" fill="#6095c8" />
    <path class="path1 collapse collapse-legend" d="M14 9.5c0-0.825 0.675-1.5 1.5-1.5h1c0.825 0 1.5 0.675 1.5 1.5v1c0 0.825-0.675 1.5-1.5 1.5h-1c-0.825 0-1.5-0.675-1.5-1.5v-1z"></path>
    <path class="path2 collapse collapse-legend" d="M20 24h-8v-2h2v-6h-2v-2h6v8h2z"></path>
    <path class="path4 collapse collapse-legend in" d="M22.911 20.271c-0-0-0-0-0-0l-4.271-4.271 4.271-4.271c0-0 0-0 0-0 0.046-0.046 0.079-0.1 0.101-0.157 0.058-0.156 0.025-0.339-0.101-0.465l-2.017-2.017c-0.126-0.126-0.309-0.159-0.465-0.101-0.057 0.021-0.111 0.055-0.157 0.1 0 0-0 0-0 0l-4.271 4.271-4.271-4.271c-0-0-0-0-0-0-0.046-0.046-0.1-0.079-0.157-0.1-0.156-0.058-0.339-0.025-0.465 0.101l-2.018 2.018c-0.126 0.126-0.159 0.309-0.101 0.465 0.021 0.057 0.055 0.111 0.101 0.157 0 0 0 0 0 0l4.271 4.271-4.271 4.271c-0 0-0 0-0 0-0.046 0.046-0.079 0.1-0.101 0.157-0.058 0.156-0.025 0.339 0.101 0.465l2.018 2.017c0.126 0.126 0.309 0.159 0.465 0.101 0.057-0.021 0.111-0.055 0.157-0.101 0-0 0-0 0-0l4.271-4.271 4.271 4.271c0 0 0 0 0 0 0.046 0.046 0.1 0.079 0.157 0.101 0.156 0.058 0.339 0.025 0.465-0.101l2.017-2.017c0.126-0.126 0.159-0.309 0.101-0.465-0.021-0.057-0.055-0.111-0.101-0.157z"></path>
    <path class="path3" d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"></path>
  </svg>
</a>
<div class="collapse in leaflet-top leaflet-right top-legend viz-splash collapse-legend">
  <div class="info leaflet-control">
    <h4 id="date"><p>M/DD/YYYY</p><p>HH:MM AM</p></h4>
    <table class="table">
      <colgroup>
        <col style='width:20%;'>
        <col style='width:65%'>
        <col style='width:15%;'>
      </colgroup>
      <tbody>
        <tr>
          <td><span id="rain-counter">0.0</span></td>
          <td>Total Inches Rain (MDW)</td>
          <td><canvas id="legend-canvas" width="16" height="16" fill="#000"></canvas></td>
        </tr>
        <tr>
          <td><span id="flood-counter">0</span></td>
          <td>311 Basement Flooding Calls</td>
          <td><svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="width:16px; height:16px">
            <circle cx="8" cy="8" r="8" fill="#c91a1a" opacity="0.75"></circle>
          </svg></td>
        </tr>
        <tr>
          <td><span id="cso-counter">0</span></td>
          <td>Sewer Overflows</td>
          <td><svg id="cso-svg-legend" viewBox="0 0 16 16" width="16" height="16">
              <path id="cso-legend" d='M00 8 L16 8 Z' stroke-width="3" stroke="#f39c12"></path>
            </svg></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="col-md-6 viz-right">
  <h2>Rain is getting more severe across Chicago</h2>
  <h4>This is what that looks like.</h4>
  <a href="{% url 'viz' %}" id="splash-button">
    <button class="btn" type="button">See Animation</button>
  </a>
  <p>Lorem Ipsum</p>
  <h3>More Intense Storms</h3>
  <p>Description of the n-year storm in simpler terms, mention how many we've had.</p>
  <h3>Sewer Overflows</h3>
  <p>Description of CSOs, mention infrastructure challenges.</p>
  <h3>Basement Flooding</h3>
  <p>Describe basement flooding over time, disparities across the city, not necessarily
    about numbers in a given moment but crumbling infrastructure.</p>
  <h3>About this Project</h3>
  <p>Describe project more, link to GitHub repo.</p>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.js"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="{% static 'js/leaflet_canvas_layer.js' %}"></script>
<script>
var initialZoom = 11;
</script>
<script src="{% static 'js/rain-animation.js' %}"></script>
{% endblock %}
